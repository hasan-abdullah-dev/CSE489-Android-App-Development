
<!-- saved from url=(0166)file:///D:/old_data/D3/old%20Data/Adnan/courses/2018%201%20Spring/CSE491%20Mobile/cs193a/CS193A-master/Winter2017Update/class/cs193a/lectures/slides/first-app.html#/7 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
		<title>CS 193A - Creating Our First Android App</title>
		<link rel="stylesheet" href="./Creating Our First Android App_files/default.css" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/highlightjs/styles/default.css">
		<link rel="stylesheet" href="./Creating Our First Android App_files/reveal.css" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/reveal/css/reveal.css">
		<link rel="stylesheet" href="./Creating Our First Android App_files/white.css" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/reveal/css/theme/white.css">
		<link rel="stylesheet" href="./Creating Our First Android App_files/cs193a-slides.css" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/cs193a-slides.css">
	</head>
	<body>
		<div class="reveal slide" role="application" data-transition-speed="default" data-background-transition="fade">
			<div class="slides" style="width: 960px; height: 700px; left: 50%; top: 50%; bottom: auto; right: auto; transform: translate(-50%, -50%) scale(0.799357);">

<!-- BEGIN SLIDES AREA -->

<section class="titleslide past" style="display: none;" hidden="" aria-hidden="true" data-index-h="0">
	<h1>CSE 491: Android</h1>
	<p>Creating Our First Android App</p>
	<br/>
	<br/>
	<pre>
Acknowledgment:
   The slides are of ones by Marty Stepp.
   http://cs193a.stanford.edu
	</pre>
</section>

<section class="past" style="display: none;" hidden="" aria-hidden="true" data-index-h="1">
	<h1>Top-down design</h1>

	<div class="figuresright">
		<img src="./Creating Our First Android App_files/numbergame-app.png" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/images/numbergame-app.png" alt="image">
	</div>

	<ul>
		<li>"Bigger Number" game  (really dumb)
			<ul>
				<li>user is shown two numbers</li>
				<li>click button to choose which one is bigger</li>
				<li>correct/incorrect message after each guess</li>
				<li>earn points for each correct answer</li>
			</ul>
		</li>
		
		<li>We need to learn:
			<ul>
				<li>how to create and position graphical widgets</li>
				<li>how to respond to user events</li>
			</ul>
		</li>
	</ul>
</section>

<section class="past" style="display: none;" hidden="" aria-hidden="true" data-index-h="2">
	<h1>Creating a new project</h1>
	
	<ul>
		<li>click "Start a New Android Studio Project"</li>
		<li>click "Next" through most of the menus</li>
		<li>choose "Empty Activity" instead of "Blank Activity"</li>
	</ul>

	<div class="">
		<img src="./Creating Our First Android App_files/new-project.png" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/images/new-project.png" alt="image">
	</div>
</section>

<section class="past" style="display: none;" hidden="" aria-hidden="true" data-index-h="3">
	<h1>Android terminology</h1>
	
	<div class="figuresright">
		<img src="./Creating Our First Android App_files/activity-yikyak-1.jpg" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/images/activity-yikyak-1.jpg" alt="image">
	</div>

	<ul>
		<li><strong>activity</strong>: a single screen of UI in app
			<ul>
				<li>the fundamental unit of a GUI</li>
			</ul>
		</li>
		
		<li><strong>view</strong>: visible onscreen items
			<ul>
				<li><strong>widget</strong>: GUI control such as a button</li>
				<li><strong>layout</strong>: invisible container to position/size widgets</li>
			</ul>
		</li>
		
		<li><strong>event</strong>: action that occurs when user interacts with widgets
			<ul>
				<li>e.g. clicks, typing, scrolling</li>
			</ul>
		</li>
		
		<li><strong>action bar</strong>: top menu of common actions</li>
		<li><strong>notification area</strong>: top system menu</li>
	</ul>
</section>

<section class="past" style="display: none;" hidden="" aria-hidden="true" data-index-h="4">
	<h1>Android widgets</h1>
	
	<table class="columns5">
		<tbody><tr>
			<td><img src="./Creating Our First Android App_files/widget-analogclock.png" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/images/widget-analogclock.png" alt="widget"></td>
			<td><img src="./Creating Our First Android App_files/widget-button.png" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/images/widget-button.png" alt="widget"></td>
			<td><img src="./Creating Our First Android App_files/widget-checkbox.png" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/images/widget-checkbox.png" alt="widget"></td>
			<td><img src="./Creating Our First Android App_files/widget-datepicker.png" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/images/widget-datepicker.png" alt="widget"></td>
			<td><img src="./Creating Our First Android App_files/widget-digitalclock.png" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/images/widget-digitalclock.png" alt="widget"></td>
		</tr>

		<tr>
			<td><a target="_blank" href="https://developer.android.com/reference/android/widget/AnalogClock.html"><code class="androidapi" data-class="android.widget.AnalogClock">AnalogClock</code></a></td>
			<td><a target="_blank" href="https://developer.android.com/reference/android/widget/Button.html"><code class="androidapi" data-class="android.widget.Button">Button</code></a></td>
			<td><a target="_blank" href="https://developer.android.com/reference/android/widget/CheckBox.html"><code class="androidapi" data-class="android.widget.CheckBox">CheckBox</code></a></td>
			<td><a target="_blank" href="https://developer.android.com/reference/android/widget/DatePicker.html"><code class="androidapi" data-class="android.widget.DatePicker">DatePicker</code></a></td>
			<td><a target="_blank" href="https://developer.android.com/reference/android/widget/DigitalClock.html"><code class="androidapi" data-class="android.widget.DigitalClock" style="margin-left: 0.5em">DigitalClock</code></a></td>
		</tr>

		<tr>
			<td><img src="./Creating Our First Android App_files/widget-edittext.png" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/images/widget-edittext.png" alt="widget"></td>
			<td><img src="./Creating Our First Android App_files/widget-gallery.png" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/images/widget-gallery.png" alt="widget"></td>
			<td><img src="./Creating Our First Android App_files/widget-imageview.png" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/images/widget-imageview.png" alt="widget">
				<img src="./Creating Our First Android App_files/widget-imagebutton.png" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/images/widget-imagebutton.png" alt="widget"></td>
			<td><img src="./Creating Our First Android App_files/widget-mapview.png" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/images/widget-mapview.png" alt="widget"></td>
			<td><img src="./Creating Our First Android App_files/widget-progressbar.png" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/images/widget-progressbar.png" alt="widget"></td>
		</tr>

		<tr>
			<td><a target="_blank" href="https://developer.android.com/reference/android/widget/EditText.html"><code class="androidapi" data-class="android.widget.EditText">EditText</code></a></td>
			<td><a target="_blank" href="https://developer.android.com/reference/android/widget/Gallery.html"><code class="androidapi" data-class="android.widget.Gallery">Gallery</code></a></td>
			<td><a target="_blank" href="https://developer.android.com/reference/android/widget/ImageView.html"><code class="androidapi" data-class="android.widget.ImageView">ImageView</code></a>/<a target="_blank" href="https://developer.android.com/reference/android/widget/Button.html"><code class="androidapi" data-class="android.widget.Button">Button</code></a></td>
			<td><a class="popup" href="javascript:if(confirm(%27https://developers.google.com/android/reference/com/google/android/gms/maps/MapView  \n\nThis file was not retrieved by Teleport Pro, because it is addressed using an unsupported protocol (e.g., gopher).  \n\nDo you want to open it from the server?%27))window.location=%27https://developers.google.com/android/reference/com/google/android/gms/maps/MapView%27" tppabs="https://developers.google.com/android/reference/com/google/android/gms/maps/MapView" target="_blank"><code data-class="android.gms.maps.MapView">MapView</code></a></td>
			<td><a target="_blank" href="https://developer.android.com/reference/android/widget/ProgressBar.html"><code class="androidapi" data-class="android.widget.ProgressBar">ProgressBar</code></a></td>
		</tr>

		<tr>
			<td><img src="./Creating Our First Android App_files/widget-radiobutton.png" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/images/widget-radiobutton.png" alt="widget"></td>
			<td><img src="./Creating Our First Android App_files/spinner.png" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/images/spinner.png" alt="widget"></td>
			<td><img src="./Creating Our First Android App_files/widget-textview.png" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/images/widget-textview.png" alt="widget"></td>
			<td><img src="./Creating Our First Android App_files/widget-timepicker.png" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/images/widget-timepicker.png" alt="widget"></td>
			<td><img src="./Creating Our First Android App_files/widget-webview.png" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/images/widget-webview.png" alt="widget"></td>
		</tr>

		<tr>
			<td><a target="_blank" href="https://developer.android.com/reference/android/widget/RadioButton.html"><code class="androidapi" data-class="android.widget.RadioButton">RadioButton</code></a></td>
			<td><a target="_blank" href="https://developer.android.com/reference/android/widget/Spinner.html"><code class="androidapi" data-class="android.widget.Spinner">Spinner</code></a></td>
			<td><a target="_blank" href="https://developer.android.com/reference/android/widget/TextView.html"><code class="androidapi" data-class="android.widget.TextView">TextView</code></a></td>
			<td><a target="_blank" href="https://developer.android.com/reference/android/widget/TimePicker.html"><code class="androidapi" data-class="android.widget.TimePicker">TimePicker</code></a></td>
			<td><a target="_blank" href="https://developer.android.com/reference/android/webkit/WebView.html"><code class="androidapi" data-class="android.webkit.WebView">WebView</code></a></td>
		</tr>
	</tbody></table>
</section>

<section class="past" style="display: block;" hidden="" aria-hidden="true" data-index-h="5">
	<h1>Designing a UI</h1>
	
	<ul>
		<li>open XML file for your layout (e.g. <code>content_main.xml</code>)</li>
		<li>drag widgets from left <strong>Palette</strong> to the preview image</li>
		<li>set their properties in lower-right <strong>Properties</strong> panel</li>
	</ul>
	
	<div class="">
		<img src="./Creating Our First Android App_files/designing-user-interface.png" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/images/designing-user-interface.png" alt="image">
	</div>
</section>

<section class="past" style="display: block;" hidden="" aria-hidden="true" data-index-h="6">
	<h1>Events</h1>
	
	<p>
		<strong>event</strong>: An external stimulus your program can respond to.
	</p>

	<div class="figuresright">
		<img src="./Creating Our First Android App_files/event.png" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/images/event.png" alt="image">
	</div>

	<ul>
		<li>Common kinds of events include:
			<ul>
				<li>Mouse motion / tapping, Keys pressed,</li>
				<li>Timers expiring, Network data available</li>
			</ul>
		</li>
		
		<li><strong>event-driven programming</strong>: Overall execution of your program is largely dictated by user events.
			<ul>
				<li>Commonly used in graphical programs.</li>
			</ul>
		</li>
		
		<li>To respond to events in a program, you must:
			<ul>
				<li>Write methods to handle each kind of event ("listener" methods).</li>
				<li>Attach those methods to particular GUI widgets.</li>
			</ul>
		</li>
	</ul>
</section>

<section class="present" style="display: block;" data-index-h="7">
	<h1>Setting an event listener</h1>
	
	<ul>
		<li>select the widget in the <strong>Design</strong> view</li>
		<li>scroll down its <strong>Properties</strong> until you find <code>onClick</code></li>
		<li>type the name of a method you'll write to handle the click</li>
		<li>switch to the <strong>Text view</strong> and find the XML for that button</li>
		<li>click the "Light Bulb" and choose to "<strong>Create</strong>" the method</li>
	</ul>
	
	<div class="figureshorizontal">
		<img src="./Creating Our First Android App_files/onclick-design.png" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/images/onclick-design.png" alt="image">
		<img src="./Creating Our First Android App_files/onclick-create-method.png" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/images/onclick-create-method.png" alt="image">
	</div>
</section>

<section class="future" style="display: block;" hidden="" aria-hidden="true" data-index-h="8">
	<h1>Event listener code</h1>
	
	<div class="linenumbersouter"><pre class=" linenumbers"><code style="float: left;">&nbsp;1&nbsp;
&nbsp;2&nbsp;
&nbsp;3&nbsp;
&nbsp;4&nbsp;
&nbsp;5&nbsp;
&nbsp;6&nbsp;
&nbsp;7&nbsp;
&nbsp;8&nbsp;
&nbsp;9&nbsp;
10&nbsp;
11&nbsp;
12&nbsp;
13&nbsp;
14&nbsp;
15&nbsp;
16&nbsp;</code></pre><pre><code class="Java hljs"><span class="hljs-keyword">package</span> cs193a.stanford.edu.numbergame;

<span class="hljs-keyword">import</span> ...;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Activity</span> </span>{
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(Bundle bundle)</span> </span>{
        setContentView(R.layout.activity_main);
        <span class="hljs-keyword">super</span>.onCreate(bundle);
    }
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">button1_click</span><span class="hljs-params">(View view)</span> </span>{
        <span class="hljs-comment">// your code goes here</span>
        
    }
}
</code></pre></div>
</section>

<section class="future" style="display: block;" hidden="" aria-hidden="true" data-index-h="9">
	<h1>View objects</h1>
	
	<ul>
		<li>each widget has an associated Java object you can access</li>
		<li>they are subclasses of parent class <a target="_blank" href="https://developer.android.com/reference/android/view/View.html"><code class="androidapi" data-class="android.view.View">View</code></a>
			<ul>
				<li>examples:  <code>Button</code>, <code>TextView</code>, <code>EditText</code>, ...</li>
			</ul>
		</li>
		
		<li><code>View</code> objects get/set methods &#8594; Design properties:
			<ul>
				<li>background, bottom, ID, left, margin, padding, right, text, textAlignment, textSize, top, typeface, visibility, x, y, z, ...</li>
				<li>example: for a Button's <code>text</code> property, there will be methods:
					<ul>
						<li><code>public CharSequence <strong>getText</strong>()</code></li>
						<li><code>public void <strong>setText</strong>(String text)</code></li>
					</ul>
				</li>
				<li>Find list of properties in Design view, or typing ".get" on a button in Java code, or at:
					<a class="popup" target="_blank" href="javascript:if(confirm(%27https://developer.android.com/reference/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed using an unsupported protocol (e.g., gopher).  \n\nDo you want to open it from the server?%27))window.location=%27https://developer.android.com/reference/%27" tppabs="https://developer.android.com/reference/">developer.android.com/reference</a></li>
			</ul>
		</li>
	</ul>
</section>

<section class="future" style="display: none;" hidden="" aria-hidden="true" data-index-h="10">
	<h1>Interacting with widgets</h1>
	
	<ol>
		<li>in Design view, give that view a unique ID property value</li>
		<li>in Java code, call <code>findViewById</code> to access its View object
			<ul>
				<li>pass it a parameter of <code>R.id.<var>your_unique_ID</var></code></li>
				<li>cast the returned value to the appropriate type (<code>Button</code>, <code>TextView</code>, etc.)</li>
			</ul>
		</li>
	</ol>

<div class="linenumbersouter"><pre class=" linenumbers"><code style="float: left;">&nbsp;1&nbsp;
&nbsp;2&nbsp;
&nbsp;3&nbsp;
&nbsp;4&nbsp;</code></pre><pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">button1_onclick</span><span class="hljs-params">(View view)</span> </span>{
    TextView tv = (TextView) <strong>findViewById</strong>(R.id.mytextview);
    tv.setText(<span class="hljs-string">"You clicked it!"</span>);
}
</code></pre></div>
	
	<ul>
		<li>Note: To convert between various data types in Java:
			<ul>
				<li><code>String</code> to <code>int</code>: &nbsp;&nbsp;&nbsp; <code>Integer.valueOf(<var>s</var>)</code></li>
				<li><code>int</code> to <code>String</code>: &nbsp;&nbsp;&nbsp; <code>String.valueOf(<var>n</var>)</code></li>
				<li>object to <code>String</code>: &nbsp;&nbsp;&nbsp;  <code><var>o</var>.toString()</code>
					or <code>("" + o)</code>
				</li>
			</ul>
		</li>
	</ul>
</section>

<section class="future" style="display: none;" hidden="" aria-hidden="true" data-index-h="11">
	<h1>Displaying Toasts</h1>

<pre><code class="java hljs">Toast.makeText(<span class="hljs-keyword">this</span>, <span class="hljs-string">"</span><var><span class="hljs-string">text</span></var><span class="hljs-string">"</span>, Toast.LENGTH_SHORT).show();</code></pre>

	<div class="figuresright">
		<img src="./Creating Our First Android App_files/toast-screen.jpg" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/images/toast-screen.jpg" alt="image">
	</div>

	<ul>
		<li><strong>toast</strong>: a pop-up message that appears for a short time</li>
		<li>useful for displaying short updates in response to events</li>
		<li>should not be relied upon extensively for important info</li>
		<li>length can also be <code>Toast.LENGTH_LONG</code></li>
	</ul>
</section>

<section class="future" style="display: none;" hidden="" aria-hidden="true" data-index-h="12">
	<h1>Log methods</h1>
	
	<table class="methodtable">
		<tbody><tr>
			<th>Method</th>
			<th>Description</th>
		</tr>

		<tr>
			<td><code>Log.d("<var>tag</var>", "<var>message</var>");</code></td>
			<td>debug message (for debugging)</td>
		</tr>

		<tr>
			<td><code>Log.e("<var>tag</var>", "<var>message</var>");</code></td>
			<td>error message (fatal error)</td>
		</tr>

		<tr>
			<td><code>Log.i("<var>tag</var>", "<var>message</var>");</code></td>
			<td>info message (low-urgency FYI)</td>
		</tr>

		<tr>
			<td><code>Log.v("<var>tag</var>", "<var>message</var>");</code></td>
			<td>verbose message (rarely shown)</td>
		</tr>

		<tr>
			<td><code>Log.w("<var>tag</var>", "<var>message</var>");</code></td>
			<td>warning message (non-fatal error)</td>
		</tr>

		<tr>
			<td><code>Log.wtf("<var>tag</var>", "<var>message</var>");</code></td>
			<td>log stack trace of an exception</td>
		</tr>
	</tbody></table>

	<p>
		Each method can also accept an optional exception argument:
	</p>

	<div class="linenumbersouter"><pre class=" linenumbers"><code style="float: left;">&nbsp;1&nbsp;
&nbsp;2&nbsp;
&nbsp;3&nbsp;
&nbsp;4&nbsp;
&nbsp;5&nbsp;</code></pre><pre><code class="java hljs"><span class="hljs-keyword">try</span> {
    <var>someCode()</var>;
} <span class="hljs-keyword">catch</span> (Exception ex) {
    Log.e(<span class="hljs-string">"error4"</span>, <span class="hljs-string">"something went wrong"</span>, <strong>ex</strong>);
}
</code></pre></div>
</section>

<!-- END SLIDES AREA -->
			</div>
		<div class="progress" style="display: block;"><span style="width: 746.667px;"></span></div><aside class="controls" style="display: block;"><button class="navigate-left enabled" aria-label="previous slide"></button><button class="navigate-right enabled" aria-label="next slide"></button><button class="navigate-up" aria-label="above slide"></button><button class="navigate-down" aria-label="below slide"></button><button id="fullscreenbutton" title="full-screen mode">&#8862;</button></aside><div class="slide-number" style="display: block;"><span class="slide-number-a">8</span></div><div class="speaker-notes" data-prevent-swipe=""></div><div class="pause-overlay"></div><div id="aria-status-div" aria-live="polite" aria-atomic="true" style="position: absolute; height: 1px; width: 1px; overflow: hidden; clip: rect(1px 1px 1px 1px);">
	Setting an event listener
	
	
		select the widget in the Design view
		scroll down its Properties until you find onClick
		type the name of a method you'll write to handle the click
		switch to the Text view and find the XML for that button
		click the "Light Bulb" and choose to "Create" the method
	
	
	
		
		
	
</div><div class="backgrounds"><div class="slide-background titleslide past" data-loaded="true" style="display: none;"></div><div class="slide-background past" data-loaded="true" style="display: none;"></div><div class="slide-background past" data-loaded="true" style="display: none;"></div><div class="slide-background past" data-loaded="true" style="display: none;"></div><div class="slide-background past" data-loaded="true" style="display: none;"></div><div class="slide-background past" data-loaded="true" style="display: block;"></div><div class="slide-background past" data-loaded="true" style="display: block;"></div><div class="slide-background present" data-loaded="true" style="display: block;"></div><div class="slide-background future" data-loaded="true" style="display: block;"></div><div class="slide-background future" data-loaded="true" style="display: block;"></div><div class="slide-background future" data-loaded="true" style="display: none;"></div><div class="slide-background future" data-loaded="true" style="display: none;"></div><div class="slide-background future" data-loaded="true" style="display: none;"></div></div></div>

		<script src="./Creating Our First Android App_files/highlight.pack.js.download" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/highlightjs/highlight.pack.js"></script>
		<script src="./Creating Our First Android App_files/cs193a-slides.js.download" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/cs193a-slides.js"></script>
		<script src="./Creating Our First Android App_files/reveal.js.download" tppabs="http://web.stanford.edu/class/cs193a/lectures/slides/reveal/js/reveal.js"></script>
		<script>
			initializeSlides();
		</script>
	

</body></html>